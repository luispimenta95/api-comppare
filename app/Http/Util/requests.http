@baseUrl = https://api.comppare.com.br/api
#@baseUrl = http://127.0.0.1:8000/api
### GET request para testar a api
GET {{baseUrl}}/test

#usuarios
###cadastrar
POST {{baseUrl}}/usuarios/cadastrar
Content-Type: application/json

{
    "primeiroNome": "Luis",
    "sobrenome": "Pimenta",
    "apelido": "luispimenta95",
    "cpf": "02049035055",
    "senha": "Mp13151319!",
    "telefone": "61998690313",
    "email": "luispimenta.contato@gmail.com",
    "idPlano": 1,
    "nascimento": "19/09/1995"
}


###listar
GET {{baseUrl}}/admin/usuarios/listar


###Autenticar (login com tags incluídas na resposta)
POST {{baseUrl}}/usuarios/autenticar
Content-Type: application/json

{
    "cpf": "02049035055",
    "senha": "13151319"
}

### Response esperada (com tags):
# {
#   "codRetorno": 200,
#   "message": "OK",
#   "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
#   "dados": { 
#     "id": 1,
#     "primeiroNome": "Luis",
#     "sobrenome": "Pimenta",
#     "email": "luispimenta.contato@gmail.com",
#     ...
#   },
#   "pastas": [
#     {
#       "id": 1,
#       "nome": "Pasta Principal",
#       "path": "https://api.comppare.com.br/pasta/1",
#       "subpastas": [...]
#     }
#   ],
#   "tags": {
#     "total": 15,
#     "pessoais": 10,
#     "globais": 5,
#     "lista": [
#       {
#         "id": 1,
#         "nome": "Família",
#         "tipo": "pessoal",
#         "criada_em": "2024-01-15 10:30:00"
#       },
#       {
#         "id": 2,
#         "nome": "Trabalho",
#         "tipo": "global",
#         "criada_em": "2024-01-10 09:00:00"
#       }
#     ]
#   },
#   "regras": {
#     "pode_criar_nova_pasta": true,
#     "pode_criar_subpastas": true
#   }
# }

###recuperar
POST {{baseUrl}}/usuarios/recuperar
Content-Type: application/json

{
    "idUsuario": 3
}

###checarExistencia
POST {{baseUrl}}/usuarios/valida-existencia-usuario
Content-Type: application/json

{
    "cpf": "42708782070"
}

###atualizar senha
POST {{baseUrl}}/usuarios/atualizar-senha
Content-Type: application/json

{
    "cpf": "42708782070",
    "senha": "123"
}


###Requests planos

###cadastrarPlanos
POST {{baseUrl}}/planos/cadastrar
Content-Type: application/json

{
    "nome": "Teste plano EFI",
    "descricao": "Teste",
    "valor": 1,
    "quantidadeTags": 1,
    "quantidadeFotos": 1,
    "quantidadePastas": 1,
    "online": true,
    "frequenciaCobranca": 12

}


###recuperar
POST {{baseUrl}}/planos/recuperar
Content-Type: application/json

{
    "idPlano" : 3
}

###listar
GET {{baseUrl}}/planos/listar


##Cupons
###recuperar
POST {{baseUrl}}/cupons/recuperar
Content-Type: application/json

{
    "idCupom" : 3
}

###listar
GET {{baseUrl}}/cupons/listar

###Cadastro de cupons

POST {{baseUrl}}/cupons/cadastrar
Content-Type: application/json

{
    "cupom": "Teste",
    "percentualDesconto": 10,
    "quantidadeDias": 5
}

###assinatura
POST {{baseUrl}}/vendas/criar-assinatura
Content-Type: application/json

{
    "usuario":1,
    "plano": 1,
    "token": "acvvcyt"
}


###CANCELAR ASSINATURA

POST {{baseUrl}}/vendas/cancelar-assinatura
Content-Type: application/json

{
    "usuario":8
}


###pastas
###cadastrar
POST {{baseUrl}}/pasta/create
Content-Type: application/json
#Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2FwaS5jb21wcGFyZS5jb20uYnIvYXBpL3VzdWFyaW9zL2F1dGVudGljYXIiLCJpYXQiOjE3NDgyMTc3MzEsImV4cCI6MTc0ODIyMTMzMSwibmJmIjoxNzQ4MjE3NzMxLCJqdGkiOiJncHhlN2NsRUxNaXRYdVdvIiwic3ViIjoiMiIsInBydiI6IjU1NGM1YWVhNGNiMjU0MDE5ZTEyMDY3YTdjYTU0N2Y2NzVkNTQ0Y2EifQ.m6rWAD_GHVs-GDWIvlH_yBMCI4QO3VSH0BYF09fiZTE

{
    "idUsuario": 2,
    "nomePasta": "pimenta/upload0"
}

###excluir pasta
DELETE {{baseUrl}}/pasta/delete
Content-Type: application/json

{
    "idUsuario": 2,
    "idPasta": 40
}

###ranking
###cadastrar
POST {{baseUrl}}/ranking/atualizar
Content-Type: application/json

{
"pontos": 10,
 "usuario": 1
}


###atualizar plano
POST {{baseUrl}}/api/usuarios/atualizar-plano
Content-Type: application/json
Authorization: Bearer 123

{
    "cpf": "81581828012",
    "plano": 5
}


###esqueci senha
POST {{baseUrl}}/usuarios/esqueceu-senha
Content-Type: application/json  

{
    "email": "teste@gmail.com"
}

###imagens
###excluir imagem
DELETE {{baseUrl}}/imagens/excluir
Content-Type: application/json

{
    "idUsuario": 2,
    "idPhoto": 15
}

###excluir pasta
DELETE {{baseUrl}}/pasta/excluir
Content-Type: application/json
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2FwaS5jb21wcGFyZS5jb20uYnIvYXBpL3VzdWFyaW9zL2F1dGVudGljYXIiLCJpYXQiOjE3NDgyMTc3MzEsImV4cCI6MTc0ODIyMTMzMSwibmJmIjoxNzQ4MjE3NzMxLCJqdGkiOiJncHhlN2NsRUxNaXRYdVdvIiwic3ViIjoiMiIsInBydiI6IjU1NGM1YWVhNGNiMjU0MDE5ZTEyMDY3YTdjYTU0N2Y2NzVkNTQ0Y2EifQ.m6rWAD_GHVs-GDWIvlH_yBMCI4QO3VSH0BYF09fiZTE

{
    "idUsuario": 2,
    "idPasta": 40
}

###recuperar pasta individual
GET {{baseUrl}}/pasta/recuperar?idPasta=26
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2FwaS5jb21wcGFyZS5jb20uYnIvYXBpL3VzdWFyaW9zL2F1dGVudGljYXIiLCJpYXQiOjE3NTI2MTkxMDIsImV4cCI6MTc1MjYyMjcwMiwibmJmIjoxNzUyNjE5MTAyLCJqdGkiOiJqQmdSV0poS2pncE43S29TIiwic3ViIjoiMSIsInBydiI6IjU1NGM1YWVhNGNiMjU0MDE5ZTEyMDY3YTdjYTU0N2Y2NzVkNTQ0Y2EifQ.X36IgXm8avWayQytb4Z2u94NoElPP-s8xbDb8VOccQI


#criar cobranca
POST {{baseUrl}}/pix/enviar
Content-Type: application/json

{
    "usuario": 2,
    "plano": 3
}

###Tags
###cadastrar tag (com verificação de limite do plano)
POST {{baseUrl}}/tags/cadastrar
Content-Type: application/json
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2FwaS5jb21wcGFyZS5jb20uYnIvYXBpL3VzdWFyaW9zL2F1dGVudGljYXIiLCJpYXQiOjE3NTI2MTkxMDIsImV4cCI6MTc1MjYyMjcwMiwibmJmIjoxNzUyNjE5MTAyLCJqdGkiOiJqQmdSV0poS2pncE43S29TIiwic3ViIjoiMSIsInBydiI6IjU1NGM1YWVhNGNiMjU0MDE5ZTEyMDY3YTdjYTU0N2Y2NzVkNTQ0Y2EifQ.X36IgXm8avWayQytb4Z2u94NoElPP-s8xbDb8VOccQI

{
    "nomeTag": "Família",
    "usuario": 1
}

### Response de sucesso:
# {
#   "codRetorno": 201,
#   "message": "Tag criada com sucesso.",
#   "tag": {
#     "id": 1,
#     "nome": "Família",
#     "tipo": "pessoal",
#     "criada_em": "2024-01-15 10:30:00"
#   },
#   "limites": {
#     "usado": 5,
#     "limite": 10,
#     "restante": 5
#   }
# }

### Response de erro (limite atingido):
# {
#   "codRetorno": 403,
#   "message": "Limite de tags do plano atingido.",
#   "detalhes": {
#     "limite_plano": 10,
#     "tags_criadas": 10,
#     "plano_atual": "Plano Básico",
#     "sugestao": "Faça upgrade do seu plano para criar mais tags."
#   }
# }

###listar tags por usuário
GET {{baseUrl}}/tags/usuario?usuario=1
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2FwaS5jb21wcGFyZS5jb20uYnIvYXBpL3VzdWFyaW9zL2F1dGVudGljYXIiLCJpYXQiOjE3NTI2MTkxMDIsImV4cCI6MTc1MjYyMjcwMiwibmJmIjoxNzUyNjE5MTAyLCJqdGkiOiJqQmdSV0poS2pncE43S29TIiwic3ViIjoiMSIsInBydiI6IjU1NGM1YWVhNGNiMjU0MDE5ZTEyMDY3YTdjYTU0N2Y2NzVkNTQ0Y2EifQ.X36IgXm8avWayQytb4Z2u94NoElPP-s8xbDb8VOccQI

#criar cobranca
POST {{baseUrl}}/imagens/salvar
Content-Type: application/json
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2FwaS5jb21wcGFyZS5jb20uYnIvYXBpL3VzdWFyaW9zL2F1dGVudGljYXIiLCJpYXQiOjE3NTI2MTkxMDIsImV4cCI6MTc1MjYyMjcwMiwibmJmIjoxNzUyNjE5MTAyLCJqdGkiOiJqQmdSV0poS2pncE43S29TIiwic3ViIjoiMSIsInBydiI6IjU1NGM1YWVhNGNiMjU0MDE5ZTEyMDY3YTdjYTU0N2Y2NzVkNTQ0Y2EifQ.X36IgXm8avWayQytb4Z2u94NoElPP-s8xbDb8VOccQI


{
    "idPasta": 2,
    "image": ['image1.png', 'image2.png']
}